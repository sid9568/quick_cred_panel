  <div class="w-full  mx-auto px-6 py-5 bg-blue-50 min-h-screen">

  <div class="flex justify-between items-center mb-6">
        <div>
          <h1 class="text-2xl font-bold">Admin List</h1>
          <p class="text-gray-500 text-sm">
            Manage administrator and their permission
          </p>
        </div>
     
      </div>

      <div>
    <%= form_with url: superadmin_admins_path, method: :get, local: true, class: "flex items-center space-x-2" do %>
      <input
        type="text"
        name="q"
        value="<%= params[:q] %>"
        placeholder="Search Full Name and email..."
        class="border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 w-1/2"
      />
      <button
        type="submit"
        class="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition"
      >
        Search
      </button>
      <a href="<%=superadmin_admins_path%>" 
        type="submit"
        class="bg-gray-400 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition"
      >
        Cancel
      </a>
    <% end %>
  </div>


  <div class="w-[1450px] relative overflow-x-auto shadow-md sm:rounded-lg pr-5 mt-8">
    <table class="w-full text-sm text-left text-gray-600">
      <thead class="text-xs uppercase bg-gray-100 text-gray-700">
        <tr>
          <th scope="col" class="px-6 py-3">
            Id
          </th>
          <th scope="col" class="px-6 py-3">
            Full Name
          </th>
          <th scope="col" class="px-6 py-3">
            Username
          </th>
          <th scope="col" class="px-6 py-3">
            Email
          </th>
          <th scope="col" class="px-6 py-3">
            Phone number
          </th>
          <th scope="col" class="px-6 py-3">
            Alternative number
          </th>
          <th scope="col" class="px-6 py-3">
            Aadhaar number
          </th>
          <th scope="col" class="px-6 py-3">
            Pan Card
          </th>
          <th scope="col" class="px-6 py-3">
            Scheme
          </th>
          <th scope="col" class="px-6 py-3">
            Date of birth
          </th>
          <th scope="col" class="px-6 py-3">
            Gender
          </th>
          <th scope="col" class="px-6 py-3">
            Business name
          </th>
          <th scope="col" class="px-6 py-3">
            Business owner type
          </th>
          <th scope="col" class="px-6 py-3">
            Business nature type
          </th>
          <th scope="col" class="px-6 py-3">
            Business registration number
          </th>
          <th scope="col" class="px-6 py-3">
            Gst number
          </th>
          <th scope="col" class="px-6 py-3">
            Full Address
          </th>
          <th scope="col" class="px-6 py-3">
            Pincode
          </th>
          <th scope="col" class="px-6 py-3">
            Bank name
          </th>
          <th scope="col" class="px-6 py-3">
            Account number
          </th>
          <th scope="col" class="px-6 py-3">
            Account holder name
          </th>
          <th scope="col" class="px-6 py-3">
            Actions
          </th>
        </tr>
      </thead>
      <tbody>
        <% @users.each_with_index do |user, index| %>
        <tr class="bg-white border-b hover:bg-gray-50">
          <!-- Serial Number -->
          <th scope="row" class="px-6 py-4"><%= index + 1 %></th>
          <!-- User details -->
          <td class="px-6 py-4">
            <%= "#{user.first_name} #{user.last_name}" %>
          </td>
          <td class="px-6 py-4"><%= user.username %></td>
          <td class="px-6 py-4"><%= user.email %></td>
          <td class="px-6 py-4"><%= user.phone_number %></td>
          <td class="px-6 py-4"><%= user.alternative_number %></td>
          <td class="px-6 py-4"><%= user.aadhaar_number %></td>
          <td class="px-6 py-4"><%= user.pan_card %></td>
          <td class="px-6 py-4"><%= user.scheme&.scheme_name %></td>
          <td class="px-6 py-4"><%= user.date_of_birth %></td>
          <td class="px-6 py-4"><%= user.gender %></td>
          <td class="px-6 py-4"><%= user.business_name %></td>
          <td class="px-6 py-4"><%= user.business_owner_type %></td>
          <td class="px-6 py-4"><%= user.business_nature_type %></td>
          <td class="px-6 py-4"><%= user.business_registration_number %></td>
          <td class="px-6 py-4"><%= user.gst_number %></td>
          <td class="px-6 py-4">
            <%= "#{user.address} #{user.state}" %>
          </td>
          <td class="px-6 py-4"><%= user.pincode %></td>
          <td class="px-6 py-4"><%= user.bank_name %></td>
          <td class="px-6 py-4"><%= user.account_number %></td>
          <td class="px-6 py-4"><%= user.account_holder_name %></td>
          <!-- Actions -->
          <td class="flex gap-3 px-6 py-4">
            <!-- Status Badge -->
          <% if user.status %>
            <%= button_to superadmin_admin_update_status_path(id: user.id),
                        onclick: "return confirm('Are you sure you want to deactivate this retailer?');" do %>
              <p class="font-medium text-white font-bold hover:underline bg-green-500 py-1 px-2 rounded-lg cursor-pointer">
                Active
              </p>
            <% end %>
          <% else %>
            <%= button_to superadmin_admin_update_status_path(id: user.id),
                        onclick: "return confirm('Are you sure you want to activate this retailer?');" do %>
              <p class="font-medium text-white font-bold hover:underline bg-blue-500 py-1 px-2 rounded-lg cursor-pointer">
                Inactive
              </p>
            <% end %>
          <% end %>
            <!-- Edit Link -->
            <%= link_to "Edit", edit_superadmin_admin_path(user),
                class: "font-medium text-blue-600 hover:underline bg-yellow-400 py-1 px-2 rounded-lg" %>

            <!-- Delete Button -->
            <%= button_to "Delete", edit_superadmin_admin_path(id:user.id),
                method: :delete,
                data: { turbo_confirm: "Are you sure?" },
                class: "px-3 py-1 text-sm font-medium text-white bg-red-500 rounded-lg hover:bg-red-600 transition" %>

          </td>
        </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>


<% if flash.any? %>
  <div id="flashModal" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50">
    <div class="bg-white rounded-2xl shadow-xl w-full max-w-xl p-6 relative">
      <!-- Close Button -->
      <% flash.each do |key, message| %>
        <div class="mb-4 p-4 rounded-lg 
                    <%= key == 'notice' ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700' %>">
          <%= message %>
        </div>
      <% end %>

      <div class="flex justify-center">
        <button onclick="document.getElementById('flashModal').remove()" 
                class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
          OK
        </button>
      </div>
    </div>
  </div>
<% end %>
