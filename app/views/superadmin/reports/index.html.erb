<div class="flex-1 px-4">
  <div class="max-w-8xl mx-auto mt-4">
    <div class="bg-white rounded-3xl shadow-xl p-8 border border-indigo-200">

      <div class="flex justify-between items-start">
        <div>
          <h1 class="text-2xl font-bold text-gray-900 mb-2">
            Report List
          </h1>
        </div>
      </div>
      
      <!-- Grid -->
      <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-8">

        <% @services.each do |service| %>
          <% 
            # Define route
            link_path = case service.title
              when "BBPS" then superadmin_reports_report_filter_path(id: service.id, category_id: @category_id)
              when "Travel & Stay" then superadmin_travel_and_stay_report_travel_report_path
              when "Loan & Credit" then superadmin_commissions_path
              when "DMT" then superadmin_dmt_commissions_index_path
              else "#" 
            end

            # Icon mapping
            icon_mapping = {
              "BBPS" => "report1.png",
              "Travel & Stay" => "report2.png",
              "Loan & Credit" => "report3.png",
              "Investment" => "report4.png",
              "Utility Service" => "report5.png",
              "DMT" => "report5.png",
              "Electric Vehicle" => "report6.png",
              "Entertainment" => "report7.png",
              "Insurance" => "report8.png",
              "AEPS" => "aeps_icon.png"
            }
            icon = icon_mapping[service.title] || "default_icon.png"

            # Count logic
            count = case service.title
              when "BBPS" then 99
              when "Loan & Credit" then InstantLoan.count
              when "Earn Commission" then TransactionCommission.where(user_id: 136).pluck(:commission_amount).compact.sum.to_f
              else 0
            end
          %>

          <a href="<%= link_path %>">
            <div class="group flex flex-col items-center justify-center p-4 
                        bg-gradient-to-b from-white to-blue-50 rounded-2xl 
                        shadow-sm hover:shadow-lg border border-yellow-200 
                        transition-all cursor-pointer hover:scale-105">
              <div class="mb-3 p-3 bg-blue-100 rounded-full">
                <img src="<%#= asset_path icon %>" alt="<%= service.title %>" class="w-10 h-10"/>
              </div>
              <span class="text-sm font-medium text-gray-700 group-hover:text-indigo-800 text-center">
                <%= service.title %>
              </span>
              <span class="mt-1 text-lg font-semibold text-indigo-900">
                <%= count %>
              </span>
            </div>
          </a>
        <% end %>

        <!-- Static: Commission Report -->
        <div class="group flex flex-col items-center justify-center p-4 
                    bg-gradient-to-b from-white to-blue-50 rounded-2xl 
                    shadow-sm hover:shadow-lg border border-yellow-200 
                    transition-all cursor-pointer hover:scale-105">
          <div class="mb-3 p-3 bg-blue-100 rounded-full">
            <img src="<%= asset_path 'commision.png' %>" alt="Commission Report Icon" class="w-10 h-10"/>
          </div>
          <span class="text-sm font-medium text-gray-700 group-hover:text-indigo-800 text-center">
            Commission Report
          </span>
          <span class="mt-1 text-lg font-semibold text-indigo-900">0</span>
        </div>

        <!-- Static: Earn Commission -->
        <div class="group flex flex-col items-center justify-center p-4 
                    bg-gradient-to-b from-white to-blue-50 rounded-2xl 
                    shadow-sm hover:shadow-lg border border-yellow-200 
                    transition-all cursor-pointer hover:scale-105">
          <div class="mb-3 p-3 bg-blue-100 rounded-full">
            <img src="<%= asset_path 'commision.png' %>" alt="Earn Commission Icon" class="w-10 h-10"/>
          </div>
          <span class="text-sm font-medium text-gray-700 group-hover:text-indigo-800 text-center">
            Earn Commission
          </span>
          <span class="mt-1 text-lg font-semibold text-indigo-900">
            <%= TransactionCommission.where(user_id: 136).pluck(:commission_amount).compact.sum.to_f %>
          </span>
        </div>

      </div> <!-- /grid -->
    </div>
  </div>
</div>
